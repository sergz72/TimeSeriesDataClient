parameters:
  server: localhost
  port: 60010
  label: HomeAccountingDB
  aesKeyFile: /home/sergzz/serg/vault/GoLand/key.dat
  rsaKeyFile: /home/sergzz/serg/vault/GoLand/rsa_key.pub

commands:
  dicts:
    id: 0
    response: dictsResponse

  getOperations:
    id: 1
    parameters: getParameters
    response: getResponse

dataTypes:
  getParameters:
    type: object
    properties:
      date:
        type: uint32

  getResponse:
    type: object
    properties:
      totals:
        position: 1
        type: totals
      operations:
        position: 2
        type: operations

  totals:
    type: array
    items:
      type: object
      properties:
        accountId:
          position: 1
          type: uint16
        summa:
          position: 2
          type: int64

  operations:
    type: array
    items:
      type: operation

  operation:
    type: object
    properties:
      date:
        position: 1
        type: uint32
      accountId:
        position: 2
        type: uint32
      subcategoryId:
        position: 3
        type: uint32
      summa:
        position: 4
        type: int64
      amount:
        position: 5
        type: int64
      properties:
        position: 6
        type: array
        items:
          type: finOpProperty

  finOpProperty:
    type: object
    properties:
      numericValue:
        position: 1
        type: int64
      stringValue:
        position: 2
        type: string
      dateValue:
        position: 3
        type: uint32
      code:
        position: 4
        type: uint8

  dictsResponse:
    type: object
    properties:
      accounts:
        type: accounts

  accounts:
    type: array
    items:
      type: account

  account:
    type: object
    properties:
      id:
        position: 1
        type: uint32
      name:
        position: 2
        type: string
      cashAccount:
        position: 3
        type: int32
      activeTo:
        position: 4
        type: uint32
      currency:
        position: 5
        type: string


